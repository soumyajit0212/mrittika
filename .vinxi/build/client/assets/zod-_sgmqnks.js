import{S as dr,p as gt,q as ee,d as ze,t as me,k as $e,v as We,w as vt,x as hr,y as yr,z as gr,A as pt,f as It,r as K,m as vr,i as pr,R as E}from"./index-BzBvWqhX.js";var mr=class extends dr{constructor(e,r){super(),this.options=r,this.#r=e,this.#i=null,this.#s=gt(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}#r;#e=void 0;#y=void 0;#t=void 0;#a;#c;#s;#i;#g;#f;#d;#o;#u;#n;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),mt(this.#e,this.options)?this.#l():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return He(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return He(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#A(),this.#e.removeObserver(this)}setOptions(e){const r=this.options,t=this.#e;if(this.options=this.#r.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ee(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#F(),this.#e.setOptions(this.options),r._defaulted&&!ze(this.options,r)&&this.#r.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&bt(this.#e,t,this.options,r)&&this.#l(),this.updateResult(),s&&(this.#e!==t||ee(this.options.enabled,this.#e)!==ee(r.enabled,this.#e)||me(this.options.staleTime,this.#e)!==me(r.staleTime,this.#e))&&this.#v();const u=this.#p();s&&(this.#e!==t||ee(this.options.enabled,this.#e)!==ee(r.enabled,this.#e)||u!==this.#n)&&this.#m(u)}getOptimisticResult(e){const r=this.#r.getQueryCache().build(this.#r,e),t=this.createResult(r,e);return _r(this,t)&&(this.#t=t,this.#c=this.options,this.#a=this.#e.state),t}getCurrentResult(){return this.#t}trackResult(e,r){return new Proxy(e,{get:(t,s)=>(this.trackProp(s),r?.(s),Reflect.get(t,s))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=this.#r.defaultQueryOptions(e),t=this.#r.getQueryCache().build(this.#r,r);return t.fetch().then(()=>this.createResult(t,r))}fetch(e){return this.#l({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#l(e){this.#F();let r=this.#e.fetch(this.options,e);return e?.throwOnError||(r=r.catch($e)),r}#v(){this.#_();const e=me(this.options.staleTime,this.#e);if(We||this.#t.isStale||!vt(e))return;const t=hr(this.#t.dataUpdatedAt,e)+1;this.#o=setTimeout(()=>{this.#t.isStale||this.updateResult()},t)}#p(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#m(e){this.#A(),this.#n=e,!(We||ee(this.options.enabled,this.#e)===!1||!vt(this.#n)||this.#n===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||yr.isFocused())&&this.#l()},this.#n))}#b(){this.#v(),this.#m(this.#p())}#_(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#A(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,r){const t=this.#e,s=this.options,u=this.#t,n=this.#a,o=this.#c,p=e!==t?e.state:this.#y,{state:b}=e;let m={...b},V=!1,h;if(r._optimisticResults){const w=this.hasListeners(),U=!w&&mt(e,r),j=w&&bt(e,t,r,s);(U||j)&&(m={...m,...gr(b.data,e.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:Y,errorUpdatedAt:B,status:S}=m;h=m.data;let N=!1;if(r.placeholderData!==void 0&&h===void 0&&S==="pending"){let w;u?.isPlaceholderData&&r.placeholderData===o?.placeholderData?(w=u.data,N=!0):w=typeof r.placeholderData=="function"?r.placeholderData(this.#d?.state.data,this.#d):r.placeholderData,w!==void 0&&(S="success",h=pt(u?.data,w,r),V=!0)}if(r.select&&h!==void 0&&!N)if(u&&h===n?.data&&r.select===this.#g)h=this.#f;else try{this.#g=r.select,h=r.select(h),h=pt(u?.data,h,r),this.#f=h,this.#i=null}catch(w){this.#i=w}this.#i&&(Y=this.#i,h=this.#f,B=Date.now(),S="error");const ne=m.fetchStatus==="fetching",x=S==="pending",Q=S==="error",z=x&&ne,v=h!==void 0,A={status:S,fetchStatus:m.fetchStatus,isPending:x,isSuccess:S==="success",isError:Q,isInitialLoading:z,isLoading:z,data:h,dataUpdatedAt:m.dataUpdatedAt,error:Y,errorUpdatedAt:B,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:ne,isRefetching:ne&&!x,isLoadingError:Q&&!v,isPaused:m.fetchStatus==="paused",isPlaceholderData:V,isRefetchError:Q&&v,isStale:Ye(e,r),refetch:this.refetch,promise:this.#s,isEnabled:ee(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const w=$=>{A.status==="error"?$.reject(A.error):A.data!==void 0&&$.resolve(A.data)},U=()=>{const $=this.#s=A.promise=gt();w($)},j=this.#s;switch(j.status){case"pending":e.queryHash===t.queryHash&&w(j);break;case"fulfilled":(A.status==="error"||A.data!==j.value)&&U();break;case"rejected":(A.status!=="error"||A.error!==j.reason)&&U();break}}return A}updateResult(){const e=this.#t,r=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#c=this.options,this.#a.data!==void 0&&(this.#d=this.#e),ze(r,e))return;this.#t=r;const t=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,u=typeof s=="function"?s():s;if(u==="all"||!u&&!this.#h.size)return!0;const n=new Set(u??this.#h);return this.options.throwOnError&&n.add("error"),Object.keys(this.#t).some(o=>{const l=o;return this.#t[l]!==e[l]&&n.has(l)})};this.#V({listeners:t()})}#F(){const e=this.#r.getQueryCache().build(this.#r,this.options);if(e===this.#e)return;const r=this.#e;this.#e=e,this.#y=e.state,this.hasListeners()&&(r?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#V(e){It.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(this.#t)}),this.#r.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function br(e,r){return ee(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function mt(e,r){return br(e,r)||e.state.data!==void 0&&He(e,r,r.refetchOnMount)}function He(e,r,t){if(ee(r.enabled,e)!==!1&&me(r.staleTime,e)!=="static"){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&Ye(e,r)}return!1}function bt(e,r,t,s){return(e!==r||ee(s.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&Ye(e,t)}function Ye(e,r){return ee(r.enabled,e)!==!1&&e.isStaleByTime(me(r.staleTime,e))}function _r(e,r){return!ze(e.getCurrentResult(),r)}var Mt=K.createContext(!1),Ar=()=>K.useContext(Mt);Mt.Provider;function Fr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Vr=K.createContext(Fr()),xr=()=>K.useContext(Vr),wr=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},Er=e=>{K.useEffect(()=>{e.clearReset()},[e])},Sr=({result:e,errorResetBoundary:r,throwOnError:t,query:s,suspense:u})=>e.isError&&!r.isReset()&&!e.isFetching&&s&&(u&&e.data===void 0||vr(t,[e.error,s])),Rr=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),t=e.staleTime;e.staleTime=typeof t=="function"?(...s)=>r(t(...s)):r(t),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kr=(e,r)=>e.isLoading&&e.isFetching&&!r,Cr=(e,r)=>e?.suspense&&r.isPending,_t=(e,r,t)=>r.fetchOptimistic(e).catch(()=>{t.clearReset()});function Or(e,r,t){const s=Ar(),u=xr(),n=pr(),o=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",Rr(o),wr(o,u),Er(u);const l=!n.getQueryCache().get(o.queryHash),[p]=K.useState(()=>new r(n,o)),b=p.getOptimisticResult(o),m=!s&&e.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(V=>{const h=m?p.subscribe(It.batchCalls(V)):$e;return p.updateResult(),h},[p,m]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),K.useEffect(()=>{p.setOptions(o)},[o,p]),Cr(o,b))throw _t(o,p,u);if(Sr({result:b,errorResetBoundary:u,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw b.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(o,b),o.experimental_prefetchInRender&&!We&&kr(b,s)&&(l?_t(o,p,u):n.getQueryCache().get(o.queryHash)?.promise)?.catch($e).finally(()=>{p.updateResult()}),o.notifyOnChangeProps?b:p.trackResult(b)}function ps(e,r){return Or(e,mr)}/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tr=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,s)=>s?s.toUpperCase():t.toLowerCase()),At=e=>{const r=Tr(e);return r.charAt(0).toUpperCase()+r.slice(1)},Lt=(...e)=>e.filter((r,t,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===t).join(" ").trim(),Pr=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ur={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=K.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:u="",children:n,iconNode:o,...l},p)=>K.createElement("svg",{ref:p,...Ur,width:r,height:r,stroke:e,strokeWidth:s?Number(t)*24/Number(r):t,className:Lt("lucide",u),...!n&&!Pr(l)&&{"aria-hidden":"true"},...l},[...o.map(([b,m])=>K.createElement(b,m)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,r)=>{const t=K.forwardRef(({className:s,...u},n)=>K.createElement(Ir,{ref:n,iconNode:r,className:Lt(`lucide-${Dr(At(e))}`,`lucide-${e}`,s),...u}));return t.displayName=At(e),t};/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ms=Xe("calendar",Mr);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bs=Xe("clock",Lr);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_s=Xe("users",Nr);var be=e=>e.type==="checkbox",ce=e=>e instanceof Date,q=e=>e==null;const Nt=e=>typeof e=="object";var L=e=>!q(e)&&!Array.isArray(e)&&Nt(e)&&!ce(e),jr=e=>L(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Br=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Qr=(e,r)=>e.has(Br(r)),zr=e=>{const r=e.constructor&&e.constructor.prototype;return L(r)&&r.hasOwnProperty("isPrototypeOf")},Ge=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ge&&(e instanceof Blob||s))&&(t||L(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!zr(e))r=e;else for(const u in e)e.hasOwnProperty(u)&&(r[u]=T(e[u]));else return e;return r}var Se=e=>/^\w*$/.test(e),P=e=>e===void 0,Re=e=>Array.isArray(e)?e.filter(Boolean):[],et=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!L(e))return t;const s=(Se(r)?[r]:et(r)).reduce((u,n)=>q(u)?u:u[n],e);return P(s)||s===e?P(e[r])?t:e[r]:s},se=e=>typeof e=="boolean",C=(e,r,t)=>{let s=-1;const u=Se(r)?[r]:et(r),n=u.length,o=n-1;for(;++s<n;){const l=u[s];let p=t;if(s!==o){const b=e[l];p=L(b)||Array.isArray(b)?b:isNaN(+u[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=p,e=e[l]}};const Ft={BLUR:"blur",FOCUS_OUT:"focusout"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ae={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jt=E.createContext(null);jt.displayName="HookFormContext";const Bt=()=>E.useContext(jt);var $r=(e,r,t,s=!0)=>{const u={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const o=n;return r._proxyFormState[o]!==G.all&&(r._proxyFormState[o]=!s||G.all),e[o]}});return u};const tt=typeof window<"u"?E.useLayoutEffect:E.useEffect;var ie=e=>typeof e=="string",Qt=(e,r,t,s,u)=>ie(e)?(s&&r.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(n=>(s&&r.watch.add(n),y(t,n))):(s&&(r.watchAll=!0),t),qe=e=>q(e)||!Nt(e);function oe(e,r,t=new WeakSet){if(qe(e)||qe(r))return e===r;if(ce(e)&&ce(r))return e.getTime()===r.getTime();const s=Object.keys(e),u=Object.keys(r);if(s.length!==u.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const n of s){const o=e[n];if(!u.includes(n))return!1;if(n!=="ref"){const l=r[n];if(ce(o)&&ce(l)||L(o)&&L(l)||Array.isArray(o)&&Array.isArray(l)?!oe(o,l,t):o!==l)return!1}}return!0}function As(e){const r=Bt(),{control:t=r.control,name:s,defaultValue:u,disabled:n,exact:o,compute:l}=e||{},p=E.useRef(u),b=E.useRef(l),m=E.useRef(void 0);b.current=l;const V=E.useMemo(()=>t._getWatch(s,p.current),[t,s]),[h,Y]=E.useState(b.current?b.current(V):V);return tt(()=>t._subscribe({name:s,formState:{values:!0},exact:o,callback:B=>{if(!n){const S=Qt(s,t._names,B.values||t._formValues,!1,p.current);if(b.current){const N=b.current(S);oe(N,m.current)||(Y(N),m.current=N)}else Y(S)}}}),[t,n,s,o]),E.useEffect(()=>t._removeUnmounted()),h}var rt=(e,r,t,s,u)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:u||!0}}:{},J=e=>Array.isArray(e)?e:[e],Vt=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}},H=e=>L(e)&&!Object.keys(e).length,st=e=>e.type==="file",te=e=>typeof e=="function",xe=e=>{if(!Ge)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},zt=e=>e.type==="select-multiple",it=e=>e.type==="radio",Wr=e=>it(e)||be(e),Pe=e=>xe(e)&&e.isConnected;function Hr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=P(e)?s++:e[r[s++]];return e}function qr(e){for(const r in e)if(e.hasOwnProperty(r)&&!P(e[r]))return!1;return!0}function M(e,r){const t=Array.isArray(r)?r:Se(r)?[r]:et(r),s=t.length===1?e:Hr(e,t),u=t.length-1,n=t[u];return s&&delete s[n],u!==0&&(L(s)&&H(s)||Array.isArray(s)&&qr(s))&&M(e,t.slice(0,-1)),e}var $t=e=>{for(const r in e)if(te(e[r]))return!0;return!1};function we(e,r={}){const t=Array.isArray(e);if(L(e)||t)for(const s in e)Array.isArray(e[s])||L(e[s])&&!$t(e[s])?(r[s]=Array.isArray(e[s])?[]:{},we(e[s],r[s])):q(e[s])||(r[s]=!0);return r}function Wt(e,r,t){const s=Array.isArray(e);if(L(e)||s)for(const u in e)Array.isArray(e[u])||L(e[u])&&!$t(e[u])?P(r)||qe(t[u])?t[u]=Array.isArray(e[u])?we(e[u],[]):{...we(e[u])}:Wt(e[u],q(r)?{}:r[u],t[u]):t[u]=!oe(e[u],r[u]);return t}var ve=(e,r)=>Wt(e,r,we(r));const xt={value:!1,isValid:!1},wt={value:!0,isValid:!0};var Ht=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!P(e[0].attributes.value)?P(e[0].value)||e[0].value===""?wt:{value:e[0].value,isValid:!0}:wt:xt}return xt},qt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>P(e)?e:r?e===""?NaN:e&&+e:t&&ie(e)?new Date(e):s?s(e):e;const Et={isValid:!1,value:null};var Zt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Et):Et;function St(e){const r=e.ref;return st(r)?r.files:it(r)?Zt(e.refs).value:zt(r)?[...r.selectedOptions].map(({value:t})=>t):be(r)?Ht(e.refs).value:qt(P(r.value)?e.ref.value:r.value,e)}var Zr=(e,r,t,s)=>{const u={};for(const n of e){const o=y(r,n);o&&C(u,n,o._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:s}},Ee=e=>e instanceof RegExp,pe=e=>P(e)?e:Ee(e)?e.source:L(e)?Ee(e.value)?e.value.source:e.value:e,he=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched});const Rt="AsyncFunction";var Kr=e=>!!e&&!!e.validate&&!!(te(e.validate)&&e.validate.constructor.name===Rt||L(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===Rt)),Jr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ze=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ye=(e,r,t,s)=>{for(const u of t||Object.keys(e)){const n=y(e,u);if(n){const{_f:o,...l}=n;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],u)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(ye(l,r))break}else if(L(l)&&ye(l,r))break}}};function kt(e,r,t){const s=y(e,t);if(s||Se(t))return{error:s,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),o=y(r,n),l=y(e,n);if(o&&!Array.isArray(o)&&t!==n)return{name:t};if(l&&l.type)return{name:n,error:l};if(l&&l.root&&l.root.type)return{name:`${n}.root`,error:l.root};u.pop()}return{name:t}}var Yr=(e,r,t,s)=>{t(e);const{name:u,...n}=e;return H(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(o=>r[o]===(!s||G.all))},Xr=(e,r,t)=>!e||!r||e===r||J(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),Gr=(e,r,t,s,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(r||e):(t?s.isOnBlur:u.isOnBlur)?!e:(t?s.isOnChange:u.isOnChange)?e:!0,es=(e,r)=>!Re(y(e,r)).length&&M(e,r),Kt=(e,r,t)=>{const s=J(y(e,t));return C(s,"root",r[t]),C(e,t,s),e},Ve=e=>ie(e);function Ct(e,r,t="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||se(e)&&!e)return{type:t,message:Ve(e)?e:"",ref:r}}var de=e=>L(e)&&!Ee(e)?e:{value:e,message:""},Ke=async(e,r,t,s,u,n)=>{const{ref:o,refs:l,required:p,maxLength:b,minLength:m,min:V,max:h,pattern:Y,validate:B,name:S,valueAsNumber:N,mount:ne}=e._f,x=y(t,S);if(!ne||r.has(S))return{};const Q=l?l[0]:o,z=R=>{u&&Q.reportValidity&&(Q.setCustomValidity(se(R)?"":R||""),Q.reportValidity())},v={},F=it(o),A=be(o),w=F||A,U=(N||st(o))&&P(o.value)&&P(x)||xe(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,j=rt.bind(null,S,s,v),$=(R,O,I,W=ae.maxLength,Z=ae.minLength)=>{const re=R?O:I;v[S]={type:R?W:Z,message:re,ref:o,...j(R?W:Z,re)}};if(n?!Array.isArray(x)||!x.length:p&&(!w&&(U||q(x))||se(x)&&!x||A&&!Ht(l).isValid||F&&!Zt(l).isValid)){const{value:R,message:O}=Ve(p)?{value:!!p,message:p}:de(p);if(R&&(v[S]={type:ae.required,message:O,ref:Q,...j(ae.required,O)},!s))return z(O),v}if(!U&&(!q(V)||!q(h))){let R,O;const I=de(h),W=de(V);if(!q(x)&&!isNaN(x)){const Z=o.valueAsNumber||x&&+x;q(I.value)||(R=Z>I.value),q(W.value)||(O=Z<W.value)}else{const Z=o.valueAsDate||new Date(x),re=_e=>new Date(new Date().toDateString()+" "+_e),ge=o.type=="time",fe=o.type=="week";ie(I.value)&&x&&(R=ge?re(x)>re(I.value):fe?x>I.value:Z>new Date(I.value)),ie(W.value)&&x&&(O=ge?re(x)<re(W.value):fe?x<W.value:Z<new Date(W.value))}if((R||O)&&($(!!R,I.message,W.message,ae.max,ae.min),!s))return z(v[S].message),v}if((b||m)&&!U&&(ie(x)||n&&Array.isArray(x))){const R=de(b),O=de(m),I=!q(R.value)&&x.length>+R.value,W=!q(O.value)&&x.length<+O.value;if((I||W)&&($(I,R.message,O.message),!s))return z(v[S].message),v}if(Y&&!U&&ie(x)){const{value:R,message:O}=de(Y);if(Ee(R)&&!x.match(R)&&(v[S]={type:ae.pattern,message:O,ref:o,...j(ae.pattern,O)},!s))return z(O),v}if(B){if(te(B)){const R=await B(x,t),O=Ct(R,Q);if(O&&(v[S]={...O,...j(ae.validate,O.message)},!s))return z(O.message),v}else if(L(B)){let R={};for(const O in B){if(!H(R)&&!s)break;const I=Ct(await B[O](x,t),Q,O);I&&(R={...I,...j(O,I.message)},z(I.message),s&&(v[S]=R))}if(!H(R)&&(v[S]={ref:Q,...R},!s))return v}}return z(!0),v};const ts={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function rs(e={}){let r={...ts,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:te(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},u=L(r.defaultValues)||L(r.values)?T(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:T(u),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,b=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...m};const h={array:Vt(),state:Vt()},Y=r.criteriaMode===G.all,B=i=>a=>{clearTimeout(b),b=setTimeout(i,a)},S=async i=>{if(!r.disabled&&(m.isValid||V.isValid||i)){const a=r.resolver?H((await A()).errors):await U(s,!0);a!==t.isValid&&h.state.next({isValid:a})}},N=(i,a)=>{!r.disabled&&(m.isValidating||m.validatingFields||V.isValidating||V.validatingFields)&&((i||Array.from(l.mount)).forEach(c=>{c&&(a?C(t.validatingFields,c,a):M(t.validatingFields,c))}),h.state.next({validatingFields:t.validatingFields,isValidating:!H(t.validatingFields)}))},ne=(i,a=[],c,g,d=!0,f=!0)=>{if(g&&c&&!r.disabled){if(o.action=!0,f&&Array.isArray(y(s,i))){const _=c(y(s,i),g.argA,g.argB);d&&C(s,i,_)}if(f&&Array.isArray(y(t.errors,i))){const _=c(y(t.errors,i),g.argA,g.argB);d&&C(t.errors,i,_),es(t.errors,i)}if((m.touchedFields||V.touchedFields)&&f&&Array.isArray(y(t.touchedFields,i))){const _=c(y(t.touchedFields,i),g.argA,g.argB);d&&C(t.touchedFields,i,_)}(m.dirtyFields||V.dirtyFields)&&(t.dirtyFields=ve(u,n)),h.state.next({name:i,isDirty:$(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else C(n,i,a)},x=(i,a)=>{C(t.errors,i,a),h.state.next({errors:t.errors})},Q=i=>{t.errors=i,h.state.next({errors:t.errors,isValid:!1})},z=(i,a,c,g)=>{const d=y(s,i);if(d){const f=y(n,i,P(c)?y(u,i):c);P(f)||g&&g.defaultChecked||a?C(n,i,a?f:St(d._f)):I(i,f),o.mount&&S()}},v=(i,a,c,g,d)=>{let f=!1,_=!1;const k={name:i};if(!r.disabled){if(!c||g){(m.isDirty||V.isDirty)&&(_=t.isDirty,t.isDirty=k.isDirty=$(),f=_!==k.isDirty);const D=oe(y(u,i),a);_=!!y(t.dirtyFields,i),D?M(t.dirtyFields,i):C(t.dirtyFields,i,!0),k.dirtyFields=t.dirtyFields,f=f||(m.dirtyFields||V.dirtyFields)&&_!==!D}if(c){const D=y(t.touchedFields,i);D||(C(t.touchedFields,i,c),k.touchedFields=t.touchedFields,f=f||(m.touchedFields||V.touchedFields)&&D!==c)}f&&d&&h.state.next(k)}return f?k:{}},F=(i,a,c,g)=>{const d=y(t.errors,i),f=(m.isValid||V.isValid)&&se(a)&&t.isValid!==a;if(r.delayError&&c?(p=B(()=>x(i,c)),p(r.delayError)):(clearTimeout(b),p=null,c?C(t.errors,i,c):M(t.errors,i)),(c?!oe(d,c):d)||!H(g)||f){const _={...g,...f&&se(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,..._},h.state.next(_)}},A=async i=>{N(i,!0);const a=await r.resolver(n,r.context,Zr(i||l.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return N(i),a},w=async i=>{const{errors:a}=await A(i);if(i)for(const c of i){const g=y(a,c);g?C(t.errors,c,g):M(t.errors,c)}else t.errors=a;return a},U=async(i,a,c={valid:!0})=>{for(const g in i){const d=i[g];if(d){const{_f:f,..._}=d;if(f){const k=l.array.has(f.name),D=d._f&&Kr(d._f);D&&m.validatingFields&&N([g],!0);const X=await Ke(d,l.disabled,n,Y,r.shouldUseNativeValidation&&!a,k);if(D&&m.validatingFields&&N([g]),X[f.name]&&(c.valid=!1,a))break;!a&&(y(X,f.name)?k?Kt(t.errors,X,f.name):C(t.errors,f.name,X[f.name]):M(t.errors,f.name))}!H(_)&&await U(_,a,c)}}return c.valid},j=()=>{for(const i of l.unMount){const a=y(s,i);a&&(a._f.refs?a._f.refs.every(c=>!Pe(c)):!Pe(a._f.ref))&&ke(i)}l.unMount=new Set},$=(i,a)=>!r.disabled&&(i&&a&&C(n,i,a),!oe(_e(),u)),R=(i,a,c)=>Qt(i,l,{...o.mount?n:P(a)?u:ie(i)?{[i]:a}:a},c,a),O=i=>Re(y(o.mount?n:u,i,r.shouldUnregister?y(u,i,[]):[])),I=(i,a,c={})=>{const g=y(s,i);let d=a;if(g){const f=g._f;f&&(!f.disabled&&C(n,i,qt(a,f)),d=xe(f.ref)&&q(a)?"":a,zt(f.ref)?[...f.ref.options].forEach(_=>_.selected=d.includes(_.value)):f.refs?be(f.ref)?f.refs.forEach(_=>{(!_.defaultChecked||!_.disabled)&&(Array.isArray(d)?_.checked=!!d.find(k=>k===_.value):_.checked=d===_.value||!!d)}):f.refs.forEach(_=>_.checked=_.value===d):st(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||h.state.next({name:i,values:T(n)})))}(c.shouldDirty||c.shouldTouch)&&v(i,d,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&fe(i)},W=(i,a,c)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const d=a[g],f=i+"."+g,_=y(s,f);(l.array.has(i)||L(d)||_&&!_._f)&&!ce(d)?W(f,d,c):I(f,d,c)}},Z=(i,a,c={})=>{const g=y(s,i),d=l.array.has(i),f=T(a);C(n,i,f),d?(h.array.next({name:i,values:T(n)}),(m.isDirty||m.dirtyFields||V.isDirty||V.dirtyFields)&&c.shouldDirty&&h.state.next({name:i,dirtyFields:ve(u,n),isDirty:$(i,f)})):g&&!g._f&&!q(f)?W(i,f,c):I(i,f,c),Ze(i,l)&&h.state.next({...t,name:i}),h.state.next({name:o.mount?i:void 0,values:T(n)})},re=async i=>{o.mount=!0;const a=i.target;let c=a.name,g=!0;const d=y(s,c),f=D=>{g=Number.isNaN(D)||ce(D)&&isNaN(D.getTime())||oe(D,y(n,c,D))},_=he(r.mode),k=he(r.reValidateMode);if(d){let D,X;const Ae=a.type?St(d._f):jr(i),ue=i.type===Ft.BLUR||i.type===Ft.FOCUS_OUT,lr=!Jr(d._f)&&!r.resolver&&!y(t.errors,c)&&!d._f.deps||Gr(ue,y(t.touchedFields,c),t.isSubmitted,k,_),De=Ze(c,l,ue);C(n,c,Ae),ue?(!a||!a.readOnly)&&(d._f.onBlur&&d._f.onBlur(i),p&&p(0)):d._f.onChange&&d._f.onChange(i);const Te=v(c,Ae,ue),cr=!H(Te)||De;if(!ue&&h.state.next({name:c,type:i.type,values:T(n)}),lr)return(m.isValid||V.isValid)&&(r.mode==="onBlur"?ue&&S():ue||S()),cr&&h.state.next({name:c,...De?{}:Te});if(!ue&&De&&h.state.next({...t}),r.resolver){const{errors:ht}=await A([c]);if(f(Ae),g){const fr=kt(t.errors,s,c),yt=kt(ht,s,fr.name||c);D=yt.error,c=yt.name,X=H(ht)}}else N([c],!0),D=(await Ke(d,l.disabled,n,Y,r.shouldUseNativeValidation))[c],N([c]),f(Ae),g&&(D?X=!1:(m.isValid||V.isValid)&&(X=await U(s,!0)));g&&(d._f.deps&&fe(d._f.deps),F(c,X,D,Te))}},ge=(i,a)=>{if(y(t.errors,a)&&i.focus)return i.focus(),1},fe=async(i,a={})=>{let c,g;const d=J(i);if(r.resolver){const f=await w(P(i)?i:d);c=H(f),g=i?!d.some(_=>y(f,_)):c}else i?(g=(await Promise.all(d.map(async f=>{const _=y(s,f);return await U(_&&_._f?{[f]:_}:_)}))).every(Boolean),!(!g&&!t.isValid)&&S()):g=c=await U(s);return h.state.next({...!ie(i)||(m.isValid||V.isValid)&&c!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:c}:{},errors:t.errors}),a.shouldFocus&&!g&&ye(s,ge,i?d:l.mount),g},_e=i=>{const a={...o.mount?n:u};return P(i)?a:ie(i)?y(a,i):i.map(c=>y(a,c))},nt=(i,a)=>({invalid:!!y((a||t).errors,i),isDirty:!!y((a||t).dirtyFields,i),error:y((a||t).errors,i),isValidating:!!y(t.validatingFields,i),isTouched:!!y((a||t).touchedFields,i)}),rr=i=>{i&&J(i).forEach(a=>M(t.errors,a)),h.state.next({errors:i?t.errors:{}})},at=(i,a,c)=>{const g=(y(s,i,{_f:{}})._f||{}).ref,d=y(t.errors,i)||{},{ref:f,message:_,type:k,...D}=d;C(t.errors,i,{...D,...a,ref:g}),h.state.next({name:i,errors:t.errors,isValid:!1}),c&&c.shouldFocus&&g&&g.focus&&g.focus()},sr=(i,a)=>te(i)?h.state.subscribe({next:c=>"values"in c&&i(R(void 0,a),c)}):R(i,a,!0),ot=i=>h.state.subscribe({next:a=>{Xr(i.name,a.name,i.exact)&&Yr(a,i.formState||m,ur,i.reRenderRoot)&&i.callback({values:{...n},...t,...a,defaultValues:u})}}).unsubscribe,ir=i=>(o.mount=!0,V={...V,...i.formState},ot({...i,formState:V})),ke=(i,a={})=>{for(const c of i?J(i):l.mount)l.mount.delete(c),l.array.delete(c),a.keepValue||(M(s,c),M(n,c)),!a.keepError&&M(t.errors,c),!a.keepDirty&&M(t.dirtyFields,c),!a.keepTouched&&M(t.touchedFields,c),!a.keepIsValidating&&M(t.validatingFields,c),!r.shouldUnregister&&!a.keepDefaultValue&&M(u,c);h.state.next({values:T(n)}),h.state.next({...t,...a.keepDirty?{isDirty:$()}:{}}),!a.keepIsValid&&S()},ut=({disabled:i,name:a})=>{(se(i)&&o.mount||i||l.disabled.has(a))&&(i?l.disabled.add(a):l.disabled.delete(a))},Ce=(i,a={})=>{let c=y(s,i);const g=se(a.disabled)||se(r.disabled);return C(s,i,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:i}},name:i,mount:!0,...a}}),l.mount.add(i),c?ut({disabled:se(a.disabled)?a.disabled:r.disabled,name:i}):z(i,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:pe(a.min),max:pe(a.max),minLength:pe(a.minLength),maxLength:pe(a.maxLength),pattern:pe(a.pattern)}:{},name:i,onChange:re,onBlur:re,ref:d=>{if(d){Ce(i,a),c=y(s,i);const f=P(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,_=Wr(f),k=c._f.refs||[];if(_?k.find(D=>D===f):f===c._f.ref)return;C(s,i,{_f:{...c._f,..._?{refs:[...k.filter(Pe),f,...Array.isArray(y(u,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),z(i,!1,void 0,f)}else c=y(s,i,{}),c._f&&(c._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Qr(l.array,i)&&o.action)&&l.unMount.add(i)}}},Oe=()=>r.shouldFocusError&&ye(s,ge,l.mount),nr=i=>{se(i)&&(h.state.next({disabled:i}),ye(s,(a,c)=>{const g=y(s,c);g&&(a.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(d=>{d.disabled=g._f.disabled||i}))},0,!1))},lt=(i,a)=>async c=>{let g;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let d=T(n);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:_}=await A();t.errors=f,d=T(_)}else await U(s);if(l.disabled.size)for(const f of l.disabled)M(d,f);if(M(t.errors,"root"),H(t.errors)){h.state.next({errors:{}});try{await i(d,c)}catch(f){g=f}}else a&&await a({...t.errors},c),Oe(),setTimeout(Oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},ar=(i,a={})=>{y(s,i)&&(P(a.defaultValue)?Z(i,T(y(u,i))):(Z(i,a.defaultValue),C(u,i,T(a.defaultValue))),a.keepTouched||M(t.touchedFields,i),a.keepDirty||(M(t.dirtyFields,i),t.isDirty=a.defaultValue?$(i,T(y(u,i))):$()),a.keepError||(M(t.errors,i),m.isValid&&S()),h.state.next({...t}))},ct=(i,a={})=>{const c=i?T(i):u,g=T(c),d=H(i),f=d?u:g;if(a.keepDefaultValues||(u=c),!a.keepValues){if(a.keepDirtyValues){const _=new Set([...l.mount,...Object.keys(ve(u,n))]);for(const k of Array.from(_))y(t.dirtyFields,k)?C(f,k,y(n,k)):Z(k,y(f,k))}else{if(Ge&&P(i))for(const _ of l.mount){const k=y(s,_);if(k&&k._f){const D=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(xe(D)){const X=D.closest("form");if(X){X.reset();break}}}}if(a.keepFieldsRef)for(const _ of l.mount)Z(_,y(f,_));else s={}}n=r.shouldUnregister?a.keepDefaultValues?T(u):{}:T(f),h.array.next({values:{...f}}),h.state.next({values:{...f}})}l={mount:a.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!a.keepIsValid||!!a.keepDirtyValues,o.watch=!!r.shouldUnregister,h.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!oe(i,u)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ve(u,n):t.dirtyFields:a.keepDefaultValues&&i?ve(u,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},ft=(i,a)=>ct(te(i)?i(n):i,a),or=(i,a={})=>{const c=y(s,i),g=c&&c._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&(d.focus(),a.shouldSelect&&te(d.select)&&d.select())}},ur=i=>{t={...t,...i}},dt={control:{register:Ce,unregister:ke,getFieldState:nt,handleSubmit:lt,setError:at,_subscribe:ot,_runSchema:A,_focusError:Oe,_getWatch:R,_getDirty:$,_setValid:S,_setFieldArray:ne,_setDisabledField:ut,_setErrors:Q,_getFieldArray:O,_reset:ct,_resetDefaultValues:()=>te(r.defaultValues)&&r.defaultValues().then(i=>{ft(i,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:nr,_subjects:h,_proxyFormState:m,get _fields(){return s},get _formValues(){return n},get _state(){return o},set _state(i){o=i},get _defaultValues(){return u},get _names(){return l},set _names(i){l=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:ir,trigger:fe,register:Ce,handleSubmit:lt,watch:sr,setValue:Z,getValues:_e,reset:ft,resetField:ar,clearErrors:rr,unregister:ke,setError:at,setFocus:or,getFieldState:nt};return{...dt,formControl:dt}}var le=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=(Math.random()*16+e)%16|0;return(r=="x"?t:t&3|8).toString(16)})},Ue=(e,r,t={})=>t.shouldFocus||P(t.shouldFocus)?t.focusName||`${e}.${P(t.focusIndex)?r:t.focusIndex}.`:"",Ie=(e,r)=>[...e,...J(r)],Me=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Le(e,r,t){return[...e.slice(0,r),...J(t),...e.slice(r)]}var Ne=(e,r,t)=>Array.isArray(e)?(P(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[],je=(e,r)=>[...J(r),...J(e)];function ss(e,r){let t=0;const s=[...e];for(const u of r)s.splice(u-t,1),t++;return Re(s).length?s:[]}var Be=(e,r)=>P(r)?[]:ss(e,J(r).sort((t,s)=>t-s)),Qe=(e,r,t)=>{[e[r],e[t]]=[e[t],e[r]]},Ot=(e,r,t)=>(e[r]=t,e);function Fs(e){const r=Bt(),{control:t=r.control,name:s,keyName:u="id",shouldUnregister:n,rules:o}=e,[l,p]=E.useState(t._getFieldArray(s)),b=E.useRef(t._getFieldArray(s).map(le)),m=E.useRef(l),V=E.useRef(!1);m.current=l,t._names.array.add(s),E.useMemo(()=>o&&t.register(s,o),[t,o,s]),tt(()=>t._subjects.array.subscribe({next:({values:v,name:F})=>{if(F===s||!F){const A=y(v,s);Array.isArray(A)&&(p(A),b.current=A.map(le))}}}).unsubscribe,[t,s]);const h=E.useCallback(v=>{V.current=!0,t._setFieldArray(s,v)},[t,s]),Y=(v,F)=>{const A=J(T(v)),w=Ie(t._getFieldArray(s),A);t._names.focus=Ue(s,w.length-1,F),b.current=Ie(b.current,A.map(le)),h(w),p(w),t._setFieldArray(s,w,Ie,{argA:Me(v)})},B=(v,F)=>{const A=J(T(v)),w=je(t._getFieldArray(s),A);t._names.focus=Ue(s,0,F),b.current=je(b.current,A.map(le)),h(w),p(w),t._setFieldArray(s,w,je,{argA:Me(v)})},S=v=>{const F=Be(t._getFieldArray(s),v);b.current=Be(b.current,v),h(F),p(F),!Array.isArray(y(t._fields,s))&&C(t._fields,s,void 0),t._setFieldArray(s,F,Be,{argA:v})},N=(v,F,A)=>{const w=J(T(F)),U=Le(t._getFieldArray(s),v,w);t._names.focus=Ue(s,v,A),b.current=Le(b.current,v,w.map(le)),h(U),p(U),t._setFieldArray(s,U,Le,{argA:v,argB:Me(F)})},ne=(v,F)=>{const A=t._getFieldArray(s);Qe(A,v,F),Qe(b.current,v,F),h(A),p(A),t._setFieldArray(s,A,Qe,{argA:v,argB:F},!1)},x=(v,F)=>{const A=t._getFieldArray(s);Ne(A,v,F),Ne(b.current,v,F),h(A),p(A),t._setFieldArray(s,A,Ne,{argA:v,argB:F},!1)},Q=(v,F)=>{const A=T(F),w=Ot(t._getFieldArray(s),v,A);b.current=[...w].map((U,j)=>!U||j===v?le():b.current[j]),h(w),p([...w]),t._setFieldArray(s,w,Ot,{argA:v,argB:A},!0,!1)},z=v=>{const F=J(T(v));b.current=F.map(le),h([...F]),p([...F]),t._setFieldArray(s,[...F],A=>A,{},!0,!1)};return E.useEffect(()=>{if(t._state.action=!1,Ze(s,t._names)&&t._subjects.state.next({...t._formState}),V.current&&(!he(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!he(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([s]).then(v=>{const F=y(v.errors,s),A=y(t._formState.errors,s);(A?!F&&A.type||F&&(A.type!==F.type||A.message!==F.message):F&&F.type)&&(F?C(t._formState.errors,s,F):M(t._formState.errors,s),t._subjects.state.next({errors:t._formState.errors}))});else{const v=y(t._fields,s);v&&v._f&&!(he(t._options.reValidateMode).isOnSubmit&&he(t._options.mode).isOnSubmit)&&Ke(v,t._names.disabled,t._formValues,t._options.criteriaMode===G.all,t._options.shouldUseNativeValidation,!0).then(F=>!H(F)&&t._subjects.state.next({errors:Kt(t._formState.errors,F,s)}))}t._subjects.state.next({name:s,values:T(t._formValues)}),t._names.focus&&ye(t._fields,(v,F)=>{if(t._names.focus&&F.startsWith(t._names.focus)&&v.focus)return v.focus(),1}),t._names.focus="",t._setValid(),V.current=!1},[l,s,t]),E.useEffect(()=>(!y(t._formValues,s)&&t._setFieldArray(s),()=>{const v=(F,A)=>{const w=y(t._fields,F);w&&w._f&&(w._f.mount=A)};t._options.shouldUnregister||n?t.unregister(s):v(s,!1)}),[s,t,u,n]),{swap:E.useCallback(ne,[h,s,t]),move:E.useCallback(x,[h,s,t]),prepend:E.useCallback(B,[h,s,t]),append:E.useCallback(Y,[h,s,t]),remove:E.useCallback(S,[h,s,t]),insert:E.useCallback(N,[h,s,t]),update:E.useCallback(Q,[h,s,t]),replace:E.useCallback(z,[h,s,t]),fields:E.useMemo(()=>l.map((v,F)=>({...v,[u]:b.current[F]||le()})),[l,u])}}function Vs(e={}){const r=E.useRef(void 0),t=E.useRef(void 0),[s,u]=E.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:s},e.defaultValues&&!te(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=rs(e);r.current={...l,formState:s}}const n=r.current.control;return n._options=e,tt(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(l=>({...l,isReady:!0})),n._formState.isReady=!0,o},[n]),E.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),E.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),E.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),E.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),E.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),E.useEffect(()=>{e.values&&!oe(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),t.current=e.values,u(o=>({...o}))):n._resetDefaultValues()},[n,e.values]),E.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=$r(s,n),r.current}const Dt=(e,r,t)=>{if(e&&"reportValidity"in e){const s=y(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Je=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?Dt(s.ref,t,e):s&&s.refs&&s.refs.forEach(u=>Dt(u,t,e))}},Tt=(e,r)=>{r.shouldUseNativeValidation&&Je(e,r);const t={};for(const s in e){const u=y(r.fields,s),n=Object.assign(e[s]||{},{ref:u&&u.ref});if(is(r.names||Object.keys(e),s)){const o=Object.assign({},y(t,s));C(o,"root",n),C(t,s,o)}else C(t,s,n)}return t},is=(e,r)=>{const t=Pt(r);return e.some(s=>Pt(s).match(`^${t}\\.\\d+`))};function Pt(e){return e.replace(/\]|\[/g,"")}function Jt(e,r,t){function s(l,p){var b;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(b=l._zod).traits??(b.traits=new Set),l._zod.traits.add(e),r(l,p);for(const m in o.prototype)m in l||Object.defineProperty(l,m,{value:o.prototype[m].bind(l)});l._zod.constr=o,l._zod.def=p}const u=t?.Parent??Object;class n extends u{}Object.defineProperty(n,"name",{value:e});function o(l){var p;const b=t?.Parent?new n:this;s(b,l),(p=b._zod).deferred??(p.deferred=[]);for(const m of b._zod.deferred)m();return b}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>t?.Parent&&l instanceof t.Parent?!0:l?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class ns extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const as={};function Yt(e){return as}function os(e,r){return typeof r=="bigint"?r.toString():r}const Xt=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Fe(e){return typeof e=="string"?e:e?.message}function Gt(e,r,t){const s={...e,path:e.path??[]};if(!e.message){const u=Fe(e.inst?._zod.def?.error?.(e))??Fe(r?.error?.(e))??Fe(t.customError?.(e))??Fe(t.localeError?.(e))??"Invalid input";s.message=u}return delete s.inst,delete s.continue,r?.reportInput||delete s.input,s}const er=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(r,os,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},us=Jt("$ZodError",er),tr=Jt("$ZodError",er,{Parent:Error}),ls=e=>(r,t,s,u)=>{const n=s?Object.assign(s,{async:!1}):{async:!1},o=r._zod.run({value:t,issues:[]},n);if(o instanceof Promise)throw new ns;if(o.issues.length){const l=new(u?.Err??e)(o.issues.map(p=>Gt(p,n,Yt())));throw Xt(l,u?.callee),l}return o.value},cs=ls(tr),fs=e=>async(r,t,s,u)=>{const n=s?Object.assign(s,{async:!0}):{async:!0};let o=r._zod.run({value:t,issues:[]},n);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new(u?.Err??e)(o.issues.map(p=>Gt(p,n,Yt())));throw Xt(l,u?.callee),l}return o.value},ds=fs(tr);function Ut(e,r){try{var t=e()}catch(s){return r(s)}return t&&t.then?t.then(void 0,r):t}function hs(e,r){for(var t={};e.length;){var s=e[0],u=s.code,n=s.message,o=s.path.join(".");if(!t[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];t[o]={message:l.message,type:l.code}}else t[o]={message:n,type:u};if("unionErrors"in s&&s.unionErrors.forEach(function(m){return m.errors.forEach(function(V){return e.push(V)})}),r){var p=t[o].types,b=p&&p[s.code];t[o]=rt(o,r,t,u,b?[].concat(b,s.message):s.message)}e.shift()}return t}function ys(e,r){for(var t={};e.length;){var s=e[0],u=s.code,n=s.message,o=s.path.join(".");if(!t[o])if(s.code==="invalid_union"&&s.errors.length>0){var l=s.errors[0][0];t[o]={message:l.message,type:l.code}}else t[o]={message:n,type:u};if(s.code==="invalid_union"&&s.errors.forEach(function(m){return m.forEach(function(V){return e.push(V)})}),r){var p=t[o].types,b=p&&p[s.code];t[o]=rt(o,r,t,u,b?[].concat(b,s.message):s.message)}e.shift()}return t}function xs(e,r,t){if(t===void 0&&(t={}),function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def}(e))return function(s,u,n){try{return Promise.resolve(Ut(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(o){return n.shouldUseNativeValidation&&Je({},n),{errors:{},values:t.raw?Object.assign({},s):o}})},function(o){if(function(l){return Array.isArray(l?.issues)}(o))return{values:{},errors:Tt(hs(o.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}};if(function(s){return"_zod"in s&&typeof s._zod=="object"}(e))return function(s,u,n){try{return Promise.resolve(Ut(function(){return Promise.resolve((t.mode==="sync"?cs:ds)(e,s,r)).then(function(o){return n.shouldUseNativeValidation&&Je({},n),{errors:{},values:t.raw?Object.assign({},s):o}})},function(o){if(function(l){return l instanceof us}(o))return{values:{},errors:Tt(ys(o.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}export{ms as C,_s as U,Vs as a,xs as b,Fs as c,bs as d,Xe as e,As as f,ps as u};
