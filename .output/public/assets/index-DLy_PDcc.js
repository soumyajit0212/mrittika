import{a as ge,r as u,V as r,o as W,j as e,e as m,s as z,n as ye}from"./index-BzBvWqhX.js";import{L as G,P as H,X as q}from"./Layout-DHUNYKTw.js";import{u as Ne}from"./auth-DP1CS8M1.js";import{e as w,u as K,a as R,b as Q,C as fe}from"./zod-_sgmqnks.js";import{u as l}from"./useMutation-Cv5Pj69L.js";import{P as X}from"./plus-B6KoFE6S.js";import{S as B,T as J}from"./trash-2-BHh47ZHs.js";/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],je=w("link",be);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pe=w("settings",ve);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Se=w("tag",we);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],Ce=w("unlink",ke),Ee=W({productCode:z().min(1,"Product code is required"),productName:z().min(1,"Product name is required"),productDesc:z().optional(),productType:m(["Food","Entry"]),status:m(["ACTIVE","INACTIVE"])}),Te=W({productSize:m(["Adult","Children","Elder"]),productChoice:m(["VEG","NON-VEG","NONE"]),productPref:m(["CHICKEN","MUTTON","FISH","NONE"]),productPrice:ye().min(0,"Price must be non-negative"),productSubtype:m(["PACKET","DINE-IN","NONE"]),status:m(["ACTIVE","INACTIVE"])}),qe=function(){const{token:o,user:i}=Ne(),d=ge(),[Y,x]=u.useState(!1),[Z,p]=u.useState(!1),[v,S]=u.useState(null),[y,N]=u.useState(null),[k,C]=u.useState(null),[ee,E]=u.useState(!1),[n,T]=u.useState(null),a=K(d.getProducts.queryOptions({authToken:o})),f=K(d.getSessions.queryOptions({authToken:o})),A=l(d.createProduct.mutationOptions({onSuccess:()=>{r.success("Product created successfully"),x(!1),V(),a.refetch()},onError:s=>{r.error(s.message||"Failed to create product")}})),I=l(d.updateProduct.mutationOptions({onSuccess:()=>{r.success("Product updated successfully"),x(!1),S(null),V(),a.refetch()},onError:s=>{r.error(s.message||"Failed to update product")}})),se=l(d.deleteProduct.mutationOptions({onSuccess:()=>{r.success("Product deleted successfully"),a.refetch()},onError:s=>{r.error(s.message||"Failed to delete product")}})),M=l(d.createProductType.mutationOptions({onSuccess:()=>{r.success("Product variation created successfully"),p(!1),C(null),D(),a.refetch()},onError:s=>{r.error(s.message||"Failed to create product variation")}})),O=l(d.updateProductType.mutationOptions({onSuccess:()=>{r.success("Product variation updated successfully"),p(!1),N(null),D(),a.refetch()},onError:s=>{r.error(s.message||"Failed to update product variation")}})),te=l(d.deleteProductType.mutationOptions({onSuccess:()=>{r.success("Product variation deleted successfully"),a.refetch()},onError:s=>{r.error(s.message||"Failed to delete product variation")}})),L=l(d.addProductToSession.mutationOptions({onSuccess:()=>{r.success("Product tagged to session successfully"),a.refetch(),f.refetch()},onError:s=>{r.error(s.message||"Failed to tag product to session")}})),_=l(d.removeProductFromSession.mutationOptions({onSuccess:()=>{r.success("Product removed from session successfully"),a.refetch(),f.refetch()},onError:s=>{r.error(s.message||"Failed to remove product from session")}})),{register:b,handleSubmit:re,formState:{errors:c},reset:V,setValue:j}=R({resolver:Q(Ee)}),{register:h,handleSubmit:ae,formState:{errors:P},reset:D,setValue:g}=R({resolver:Q(Te),defaultValues:{productChoice:"NONE",productPref:"NONE",productSubtype:"NONE",status:"ACTIVE"}});if(!i||!o)return e.jsx(G,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Please log in to access this page."})]})});const U=()=>{S(null),V(),x(!0)},oe=s=>{S(s),j("productCode",s.productCode),j("productName",s.productName),j("productDesc",s.productDesc||""),j("productType",s.productType),j("status",s.status),x(!0)},de=s=>{C(s),N(null),D(),p(!0)},ce=s=>{const t=a.data?.find(F=>F.id===s.productId);N(s),C(t||{id:s.productId}),g("productSize",s.productSize),g("productChoice",s.productChoice),g("productPref",s.productPref),g("productPrice",s.productPrice),g("productSubtype",s.productSubtype),g("status",s.status),p(!0)},ne=s=>{T(s),E(!0)},le=async s=>{n&&await L.mutateAsync({authToken:o,productId:n.id,sessionId:s})},ie=async s=>{n&&await _.mutateAsync({authToken:o,productId:n.id,sessionId:s})},ue=async s=>{try{v?await I.mutateAsync({authToken:o,productId:v.id,...s}):await A.mutateAsync({authToken:o,...s})}catch{}},me=async s=>{try{y?await O.mutateAsync({authToken:o,productTypeId:y.id,...s}):await M.mutateAsync({authToken:o,productId:k.id,...s})}catch{}},xe=async s=>{window.confirm("Are you sure you want to delete this product? This will also delete all its variations.")&&await se.mutateAsync({authToken:o,productId:s})},pe=async s=>{window.confirm("Are you sure you want to delete this product variation?")&&await te.mutateAsync({authToken:o,productTypeId:s})},$=s=>s==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",he=s=>{const t=[];return s.productSize!=="Adult"&&t.push(s.productSize),s.productChoice!=="NONE"&&t.push(s.productChoice),s.productPref!=="NONE"&&t.push(s.productPref),s.productSubtype!=="NONE"&&t.push(s.productSubtype),t.length>0?t.join(", "):"Standard"};return e.jsx(G,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),i.role==="ADMIN"&&e.jsxs("button",{onClick:U,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md flex items-center",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),a.isLoading?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading products..."})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.data?.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.productName}),e.jsx("p",{className:"text-sm text-gray-500",children:s.productCode})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(s.status)}`,children:s.status}),i.role==="ADMIN"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>oe(s),className:"text-blue-600 hover:text-blue-900",children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>xe(s.id),className:"text-red-600 hover:text-red-900",children:e.jsx(J,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:s.productType})]}),s.productDesc&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Description:"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.productDesc})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Variations (",s.productTypes.length,")"]}),i.role==="ADMIN"&&e.jsxs("button",{onClick:()=>de(s),className:"text-red-600 hover:text-red-900 text-sm",children:[e.jsx(X,{className:"h-4 w-4 inline mr-1"}),"Add Variation"]})]}),s.productTypes.length>0?e.jsx("div",{className:"space-y-2",children:s.productTypes.map(t=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:he(t)}),e.jsx("p",{className:"text-xs text-gray-500",children:t.productSize})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-green-600",children:["$",t.productPrice]}),e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${$(t.status)}`,children:t.status})]}),i.role==="ADMIN"&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>ce(t),className:"text-blue-600 hover:text-blue-900",children:e.jsx(B,{className:"h-3 w-3"})}),e.jsx("button",{onClick:()=>pe(t.id),className:"text-red-600 hover:text-red-900",children:e.jsx(J,{className:"h-3 w-3"})})]})]})]},t.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No variations defined"})]}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Sessions (",s.productSessionMaps.length,")"]}),i.role==="ADMIN"&&e.jsxs("button",{onClick:()=>ne(s),className:"text-red-600 hover:text-red-900 text-sm flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Manage Sessions"]})]}),s.productSessionMaps.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.productSessionMaps.map(t=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),t.session.sessionName]},t.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"Not tagged to any sessions"})]})]})]},s.id))}),a.data?.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first product."}),i.role==="ADMIN"&&e.jsx("button",{onClick:U,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md",children:"Add Product"})]}),Y&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:v?"Edit Product":"Create Product"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(q,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:re(ue),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Code *"}),e.jsx("input",{...b("productCode"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Enter product code..."}),c.productCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.productCode.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Name *"}),e.jsx("input",{...b("productName"),type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Enter product name..."}),c.productName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.productName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Type *"}),e.jsxs("select",{...b("productType"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"Food",children:"Food"}),e.jsx("option",{value:"Entry",children:"Entry"})]}),c.productType&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.productType.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),e.jsxs("select",{...b("status"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"})]}),c.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.status.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{...b("productDesc"),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Enter product description..."}),c.productDesc&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.productDesc.message})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A.isPending||I.isPending,className:"px-4 py-2 bg-red-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",children:A.isPending||I.isPending?"Saving...":v?"Update":"Create"})]})]})]})}),Z&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y?"Edit Product Variation":"Add Product Variation"}),e.jsx("button",{onClick:()=>{p(!1),N(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(q,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Product: ",k?.productName]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",k?.productCode]})]}),e.jsxs("form",{onSubmit:ae(me),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size *"}),e.jsxs("select",{...h("productSize"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"Adult",children:"Adult"}),e.jsx("option",{value:"Children",children:"Children"}),e.jsx("option",{value:"Elder",children:"Elder"})]}),P.productSize&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.productSize.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Choice"}),e.jsxs("select",{...h("productChoice"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"NONE",children:"None"}),e.jsx("option",{value:"VEG",children:"Vegetarian"}),e.jsx("option",{value:"NON-VEG",children:"Non-Vegetarian"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Preference"}),e.jsxs("select",{...h("productPref"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"NONE",children:"None"}),e.jsx("option",{value:"CHICKEN",children:"Chicken"}),e.jsx("option",{value:"MUTTON",children:"Mutton"}),e.jsx("option",{value:"FISH",children:"Fish"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtype"}),e.jsxs("select",{...h("productSubtype"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"NONE",children:"None"}),e.jsx("option",{value:"PACKET",children:"Packet"}),e.jsx("option",{value:"DINE-IN",children:"Dine-In"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price *"}),e.jsx("input",{...h("productPrice",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"0.00"}),P.productPrice&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:P.productPrice.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),e.jsxs("select",{...h("status"),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),N(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:M.isPending||O.isPending,className:"px-4 py-2 bg-red-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50",children:M.isPending||O.isPending?y?"Updating...":"Creating...":y?"Update Variation":"Create Variation"})]})]})]})}),ee&&n&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Manage Sessions for ",n.productName]}),e.jsx("button",{onClick:()=>{E(!1),T(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(q,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Product: ",n.productName]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Code: ",n.productCode]})]}),f.isLoading?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-red-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading sessions..."})]}):e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[f.data?.map(s=>{const t=n.productSessionMaps.some(F=>F.sessionId===s.id);return e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.sessionName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.event.eventName," - ",new Date(s.sessionDate).toLocaleDateString()]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:t?e.jsxs("button",{onClick:()=>ie(s.id),disabled:_.isPending,className:"flex items-center px-2 py-1 text-xs bg-red-100 text-red-800 rounded hover:bg-red-200 disabled:opacity-50",children:[e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"Remove"]}):e.jsxs("button",{onClick:()=>le(s.id),disabled:L.isPending,className:"flex items-center px-2 py-1 text-xs bg-green-100 text-green-800 rounded hover:bg-green-200 disabled:opacity-50",children:[e.jsx(je,{className:"h-3 w-3 mr-1"}),"Add"]})})]},s.id)}),f.data?.length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No sessions available"})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:()=>{E(!1),T(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Done"})})]})})]})})};export{qe as component};
